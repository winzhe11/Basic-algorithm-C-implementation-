## 2.1.3 单调栈与单调队列

*4月28日*

### 题目：寻找左边第一个比它小的数

#### 题目描述

给定一个长度为 `N` 的整数数列，输出每个数左边第一个比它小的数，如果不存在则输出 `-1`。

#### 输入格式

第一行包含整数 `N`，表示数列长度。
第二行包含 `N` 个整数，表示整数数列。

#### 输出格式

共一行，包含 `N` 个整数，其中第 `i` 个数表示第 `i` 个数的左边第一个比它小的数，如果不存在则输出 `-1`。

#### 数据范围

- `1 ≤ N ≤ 10⁵`
- `1 ≤` 数列中元素 `≤ 10⁹`

#### 输入样例

```plaintext
5
3 4 2 7 5
```

#### 输出样例

```plaintext
-1 3 -1 2 2
```

#### 代码

```c++
#include <iostream>

using namespace std;

const int N = 1e5 + 10;
int stk[N], tt = 0;

int main() {
	int n;
	cin >> n;
	for (int i = 0; i < n; i++) {
		int x;
		cin >> x;
		while (tt && stk[tt] >= x)
			tt--;
		if (tt)
			cout << stk[tt] << ' ';
		else
			cout << -1 << ' ';
		stk[++tt] = x;
	}
	return 0;
}
```



### 题目：滑动窗口的最值

#### 题目描述

有一个大小为 `k` 的滑动窗口，从数组的最左边滑动到最右边，每次仅向右移动一个位置。在这个过程中，需要确定每个窗口位置中的最大值和最小值。

#### 输入格式

第一行包含两个整数 `n` 和 `k`，`n` 表示数组长度 ，`k` 表示滑动窗口的长度 。
第二行包含 `n` 个整数，代表数组的具体元素。
同行数据之间用空格隔开。

#### 输出格式

输出包含两行。
第一行输出从左至右每个位置滑动窗口中的最小值。
第二行输出从左至右每个位置滑动窗口中的最大值。

#### 数据范围

- `1 ≤ n ≤ 2×10⁵`
- `1 ≤ k ≤ n`
- 数组中元素的取值范围是 `[-10⁹, 10⁹]`

#### 输入样例

```plaintext
7 3
1 3 -1 -3 5 3 6
```

#### 输出样例

```plaintext
-1 -3 -3 -3 3 
3 3 5 5 6
```

#### 代码

```c++
#include <iostream>

using namespace std;

const int N = 1e5 + 10;
int a[N], q[N];

int main() {
	int n, k;
	cin >> n >> k;
	for (int i = 0; i < n; i++)
		cin >> a[i];
	int hh = 0, tt = -1;
	for (int i = 0; i < n; i++) {
		if (tt >= hh && i - k + 1 > q[hh])
			hh++;
		while (tt >= hh && a[q[tt]] >= a[i])
			tt--;
		q[++tt] = i;
		if (i - k + 1 >= 0)
			cout << a[q[hh]] << ' ';
	}
	cout << endl;
	hh = 0, tt = -1;
	for (int i = 0; i < n; i++) {
		if (tt >= hh && i - k + 1 > q[hh])
			hh++;
		while (tt >= hh && a[q[tt]] <= a[i])
			tt--;
		q[++tt] = i;
		if (i - k + 1 >= 0)
			cout << a[q[hh]] << ' ';
	}
	return 0;
}
```

